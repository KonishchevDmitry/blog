---
title: "gmailctl: наводим порядок в своей почте"
slug: gmailctl
date: 2024-04-08T19:25:58+03:00
---

У меня довольно большое количество фильтров в Gmail, которое уже давно не влезает на один экран монитора, и при этом интерфейс управления этими фильтрами в Gmail настолько примитивен, что не даёт абсолютно никаких возможностей их хоть как-то организовать. Поэтому каждый раз, когда раньше возникала необходимость добавить новый фильтр (а гораздо хуже – изменить существующий), то я мысленно вздыхал – и шёл в этот ужасно неудобный интерфейс... пока случайно не наткнулся на gmailctl.

[gmailctl](https://github.com/mbrt/gmailctl) – это абсолютно потрясающая утилитка, которая позволяет вовсе не использовать web-интерфейс редактирования правил обработки почты и унести их в локальный конфиг. У неё свой язык описания правил (имеющий свои преимущества), который она затем преобразовывает в формат Gmail и заменяет все существующие фильтры на описанные в вашем конфиге (не забыв при этом показать аккуратный diff изменений).

Правила могут быть как очень простые:

```js
{
  filter: {from: "linkedin.com"},
  actions: label("LinkedIn"),
}
```
так и довольно развесистые:
```js
{
  filter: {or: [
    {and: [{from: "notifications@github.com"}, {subject: "[KonishchevDmitry/"}, {subject: "] Release"}]},
    {and: [{from: "cloud@support.yandex.ru"}, {or: [
      {subject: "You have been given a grant"},
      {subject: "Planned maintenance"},
    ]}]},
    {and: [{from: "noreply@market.yandex.ru"}, {or: [
      {subject: "Вы оформили и оплатили заказ"},
      {and: [{subject: "Заказ"}, {subject: "доставлен"}]},
    ]}]},
    {and: [{from: "mailer@sender.ozon.ru"}, {subject: "Вам понравился заказ?"}]},
    {and: [{from: "mosenergosbyt.ru"}, {subject: "Электронный счёт за"}]},
  ]},
  actions: delete(),
}
```

Увидев это чудо, я в тот же день переколбасил все свои правила и полностью перешел на gmailctl. Они по-прежнему занимают несколько экранов монитора, но зато теперь их можно организовать удобным мне образом, объявлять функции и переменные, ставить комментарии, отделять отступами и т. п. В общем, всё как в любых нормальных декларативных языках.

Крайне рекомендую. Невероятно полезная и удобная вещь для всех, у кого больше десятка фильтров в Gmail.